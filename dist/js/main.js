(()=>{"use strict";(()=>{const e=document.querySelector("#header .button"),t=document.querySelector(".utp-button"),o=document.querySelector(".overlay"),n=document.querySelector(".header-modal"),l=document.querySelector(".header-modal__close"),r=()=>{n.style.display="flex",document.body.style.oveflow="hidden",o.style.display="flex"},s=()=>{n.style.display="none",document.body.style.oveflow="",o.style.display="none"};e.addEventListener("click",(()=>{r()})),t.addEventListener("click",(()=>{r()})),l.addEventListener("click",(()=>{s()})),o.addEventListener("click",(e=>{e.target.closest(".header-modal")||s()}))})(),new Swiper(".benefits-inner",{loop:!0,speed:400,slidesPerView:1,navigation:{nextEl:".benefits__arrow--right",prevEl:".benefits__arrow--left"},breakpoints:{576:{slidesPerView:3}}}),new Swiper(".service-slider",{loop:!0,speed:400,slidesPerView:1,navigation:{nextEl:".services__arrow--right",prevEl:".services__arrow--left"},breakpoints:{576:{slidesPerView:2}}}),(()=>{const e=document.querySelectorAll(".service-button"),t=document.querySelector(".services-modal"),o=document.querySelector(".overlay"),n=document.querySelector(".services-modal__close"),l=()=>{t.style.display="none",document.body.style.oveflow="",o.style.display="none"};e.forEach((e=>{e.addEventListener("click",(()=>{t.style.display="flex",document.body.style.oveflow="hidden",o.style.display="flex"}))})),n.addEventListener("click",(()=>{l()})),o.addEventListener("click",(e=>{e.target.closest(".services-modal")||l()}))})(),(e=>{const t=document.querySelectorAll(".order"),o=e=>e<10?`0${e}`:e;t.forEach((t=>{const n=t.querySelector(".count.count_1 > span"),l=t.querySelector(".count.count_2 > span"),r=t.querySelector(".count.count_3 > span"),s=t.querySelector(".count.count_4 > span");let c;const a=()=>{let t=(()=>{let t=(new Date).getTime(),n=(new Date(e).getTime()-t)/1e3,l=Math.floor(n/3600/24),r=Math.floor(n/3600%24),s=Math.floor(n/60%60),c=Math.floor(n%60);return l=o(l),r=o(r),s=o(s),c=o(c),{timeRemaining:n,days:l,hours:r,minutes:s,seconds:c}})();n.textContent=t.days,l.textContent=t.hours,r.textContent=t.minutes,s.textContent=t.seconds,t.timeRemaining<=0&&(n.textContent="00",l.textContent="00",r.textContent="00",s.textContent="00",clearInterval(c))};c=setInterval(a,500),a()}))})("10 september 2024"),document.querySelectorAll(".order-form.rf, .box-modal_body.rf").forEach((e=>{e.addEventListener("submit",(t=>{t.preventDefault();const o=e.querySelector('input[name="fio"]'),n=e.querySelector('input[name="phone"]'),l=document.querySelector("#responseMessage"),r=l.querySelector(".modal-content"),s=document.querySelector(".overlay"),c=l.querySelector(".btn.btn-success.fancyClose"),a=document.querySelector(".header-modal"),d=document.querySelector(".services-modal"),i=document.getElementById("calc-total"),u=()=>{o.value="",n.value="",o.classList.remove("error"),n.classList.remove("error"),a.style.display="none",d.style.display="none",s.style.display="none",document.body.style.overflow="",l.classList.add("open"),l.style.position="fixed",l.style.left="38%",l.style.top="40%"};let m={name:o.value,phone:n.value,orderPrice:0};i&&null!==i.textContent&&0!==i.textContent&&(m.orderPrice=i.textContent),""===o.value?o.classList.add("error"):o.classList.remove("error"),o.addEventListener("focusout",(()=>{o.classList.remove("error")})),(n.value="")&&n.classList.add("error"),o.closest(".error")||n.closest(".error")||(fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then((e=>{e.json(),r.innerHTML="Спасибо за вашу заявку",u()})).catch((e=>{e.message,console.log(e.message),r.innerHTML="Ошибка",r.style.cssText="color:red; font-size:20px",u()})),c.addEventListener("click",(e=>{e.preventDefault(),l.classList.remove("open"),r.innerHTML=""})))}))})),(()=>{const e=document.querySelector(".balkony"),t=document.querySelectorAll('input[name="fio"]'),o=document.querySelectorAll('input[name="phone"]'),n=document.getElementById("calc-input");t.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-Яa-zA-Z ]/g,"")}))}));const l=/^\d[\d\(\)\ -]{7,14}\d$/;o.forEach((e=>{e.addEventListener("input",(t=>{l.test(t.target.value)?e.classList.remove("error"):e.classList.add("error")}))})),e&&n.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9]/g,"")}))})(),(()=>{const e=document.querySelectorAll(".sertificate-document"),t=document.querySelectorAll(".sertificate-document > img.img-responsive"),o=document.querySelector(".overlay"),n=document.querySelectorAll(".document-overlay"),l=document.createElement("div");l.classList.add("docs-modal"),l.style.cssText="display: none; position: fixed; top: 0%; left: 50%; transform: translate(-50%, -50%); z-index: 9999; height: 100%; width: auto;",l.innerHTML='<img src="" alt="" class="modal-image">',document.querySelector(".services-modal").after(l);const r=l.querySelector(".modal-image");r.style.cssText="margin: auto; display: block; width: auto; height: 100%;",e.forEach(((e,s)=>{e.addEventListener("click",(e=>{e.preventDefault();const n=t[s].getAttribute("src").replace("documents","documents/original");r.setAttribute("src",n),l.style.display="block",o.style.display="block",(({duration:e,timing:t,draw:o})=>{const n=performance.now();requestAnimationFrame((function l(r){let s=(r-n)/e;s>1&&(s=1);const c=t(s);o(c),s<1&&requestAnimationFrame(l)}))})({duration:400,timing:e=>e,draw:e=>{l.style.top=50*e+"%"}})})),e.addEventListener("mouseenter",(()=>{n[s].style.opacity="1",n[s].style.width="200px",n[s].style.left="50%",n[s].style.transform="translateX(-50%)"})),e.addEventListener("mouseleave",(()=>{n[s].style.opacity="0"}))})),o.addEventListener("click",(e=>{e.target.closest(".docs-modal")||(l.style.display="none",o.style.display="none")}))})(),(()=>{const e=document.querySelectorAll(".smooth-scroll"),t=document.querySelectorAll("body");e.forEach((e=>{window.addEventListener("scroll",(()=>{window.scrollY>540?e.style.display="block":e.style.display="none"})),e.addEventListener("click",(e=>{e.preventDefault(),t.forEach((e=>{e.scrollIntoView({behavior:"smooth"})}))}))}))})(),(()=>{const e=document.querySelector(".balkony"),t=document.getElementById("calc"),o=document.getElementById("calc-input"),n=document.getElementById("calc-total"),l=document.getElementById("calc-type"),r=document.getElementById("calc-type-material");e&&t.addEventListener("input",(e=>{(e.target===l||e.target===r||e.target===o)&&l.selectedIndex&&r.selectedIndex&&o.value?(()=>{const e=l.options[l.selectedIndex].value,t=o.value,s=r.options[r.selectedIndex].value;let c;c=+e*+t*+s,n.value=c,0!==c&&(({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function l(r){let s=(r-n)/o;s>1&&(s=1);let c=e(s);t(c),s<1&&requestAnimationFrame(l)}))})({duration:1e3,timing:e=>e,draw(e){n.value=+n.value+Math.round(e*(c-n.value))}})})():l.selectedIndex&&r.selectedIndex&&""!==o.value||(n.value=0)}))})()})();